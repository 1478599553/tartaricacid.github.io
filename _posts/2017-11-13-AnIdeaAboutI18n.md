---
layout: post
title: 一个关于模组本地化小工具的想法
tags: [essay]
description: >
  我还在努力学编程中，只是把我的想法描述出来，要是谁能够做出来最好不过了。
---

最近一直在维护本地化仓库，本地化仓库除了汉化最头疼之外，检索更新汉化也是最机械且无聊的。目前的大部分本地化更新工具都只是读取英文文件和中文文件，然后进行更新，并不能做到批量读取mod、更新汉化文件、自定生成到材质包文件中。

这里我将我的需求和基本想法列出来，供大家参考。

现在有两个文件夹，一个是mods文件夹，里面装了好多mod文件。另一个是资源包文件夹。

mod文件中语言文件路径大致结构都是相同的（此处拿林业举例子）

```
.
└─assets
   └─forestry    
       └─lang
         ├─en_us.lang
         └─zh_cn.lang
```

* 读取mod文件其中的`en_us.lang`文件
    * 如果不存在此文件，结束检索
    * 如果存在此文件，进行下一步
* 检索资源包文件夹相同目录下文件：
    * 如果没有，就把`en_us.lang`文件连同路径复制过去，并修改为`zh_cn.lang`
    * 如果有`zh_cn.lang`文件，将英文文件与中文文件处理进行文件更新
* 接下来读取mod文件其中的`zh_cn.lang`文件
    * 如果mod文件中不存在`zh_cn.lang`文件，结束检索
    * 如果mod文件中存在`zh_cn.lang`文件，将此文件与资源包中`zh_cn.lang`处理进行文件更新
* 重复以上步骤，直至检索完毕mods文件夹中所有文件


如果有这么一个工具，我的工作量就能小很多，至少不用再费劲自己一个个拆包分析了。
